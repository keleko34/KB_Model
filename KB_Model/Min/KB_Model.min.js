var CreateKB_Model=function(){function l(){function d(){for(var b=Object.keys(m),a=0,c={},a=0;a<b.length;a++)c=m[b[a]],c._getData=d.deepCopy(c._tempData),d.deepInject(c._getData,c._bindData,b[a]),c._model&&(l[b[a]]={},d.deepInject(c._getData,l[b[a]],"Model"))}var l={},m={},h={},f={},n=function(b,a,c,e,g,d,k,f){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=!0};this.viewModel=b;this.scope=a;this.value=c;this.oldValue=e;this.scopeString=
g;this.key=d;this.args=k;this.action=f},p=function(b,a,c,e,g,d){b=new n(b,a,c,e,g,d);a=0;if(void 0!==h[d])a:for(a=0;a<h[d].length;a++)if(h[d][a].call({},b),b._stopPropogation)break a;if(void 0!==h[g]&&!b._stopPropogation)a:for(a=0;a<h[g].length;a++)if(h[g][a].call({},b),b._stopPropogation)break a;return b._preventDefault?!1:!0},q=function(b,a,c,e,g,d,k,h){b=new n(b,a,c,e,g,d,k,h);a=0;if(void 0!==f[d])a:for(a=0;a<f[d].length;a++)if(f[d][a].call({},b),b._stopPropogation)break a;if(void 0!==f[g]&&!b._stopPropogation)a:for(a=
0;a<f[g].length;a++)if(f[g][a].call({},b),b._stopPropogation)break a;return b._preventDefault?!1:!0};d.Model=function(){return l};d.ViewModel=function(b,a,c,e){if(void 0===a&&void 0===b)return m;if(void 0===a&&void 0!==b)return m[b]._bindData;m[b]={_tempData:a,_getData:{},_bindData:{},_save:!(void 0===c||!c),_model:!(void 0!==e&&!e)};return d};d.deepCopy=function(b,a){var c=Object.keys(b),e="",g=0;a=void 0===a?{}:a;for(g=0;g<c.length;g++)e=b[c[g]],e.constructor.toString()===Object.toString()?(a[c[g]]=
{},d.deepCopy(e,a[c[g]])):e.constructor.toString()===Array.toString()?(a[c[g]]=[],d.deepCopy(e,a[c[g]])):a[c[g]]=e;return a};d.deepInject=function(b,a,c,e){e=void 0===e?"":e;c=void 0===c?"unknown":c;var g=Object.keys(b),f,k;a=void 0===a?{}:a;var h=function(f,h){e=e.lastIndexOf("[")===e.length-1?e+(f+"]"):h.constructor.toString()===Array.toString()?e+("."+f+"["):e+("."+f);h.constructor.toString()===Object.toString()||h.constructor.toString()===Array.toString()?(Object.defineProperty(a,f,{get:function(){return b[f]},
set:function(d){var h=a[g[k]];p(c,a,d,h,e,f)&&(b[f]=d);q(c,a,d,h,e,f)},enumerable:!0,configurable:!0}),d.deepInject(f,a[g[k]],e,c)):Object.defineProperty(a,f,{get:function(){return b[f]},set:function(d){var h=a[g[k]];p(c,a,d,h,e,f)&&(b[f]=d);q(c,a,d,h,e,f)},enumerable:!0,configurable:!0})};for(k=0;k<g.length;k++)f=b[g[k]],h(g[k],f);return a};d.addDataListener=function(b,a){void 0===h[b]&&(h[b]=[]);h[b].push(a);return d};d.removeDataListener=function(b,a){var c=0,e=dataListeners[b];if(void 0!==e)a:for(c=
0;c<e.length;c++)if(e[c].toString()===a.toString()){e.splice(c,1);break a}return d};d.addDataUpdateListener=function(b,a){void 0===f[b]&&(f[b]=[]);f[b].push(a);return d};d.removeDataUpdateListener=function(b,a){var c=0,e=f[b];if(void 0!==e)a:for(c=0;c<e.length;c++)if(e[c].toString()===a.toString()){e.splice(c,1);break a}return d};return d}"function"===typeof define&&define.amd?(define("KB_Model",l),define([],l)):"object"===typeof module&&module.exports&&(module.exports=l);return l}();
