var KB_Model=function(){var D=function(){return function(A,v,B){function q(a,d,b,f,c,r){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=a;this.key=d;this.arguments=r;this.type=b;this.name=a.__kbname;this.root=a.__kbref;this.scope=a.__kbscopeString;this.parent=a.___kbImmediateParent;this.value=f;this.oldValue=c}function k(a,d,b,f){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=
!0};this.type=a;this.key=d;this.event=b;this.args=f}function l(a,d){var b=y[d];return function(d,c){var r=new q(this,n(b)?d:"",a,n(b)?this[d]:"",n(b)?this[d]:"",arguments),r=new k(a,n(b)?d:"",r,arguments),t;!0!==m(r)&&(n(b)?(void 0===b[r.key]&&(b[r.key]=[]),t=b[r.key],t.push(r.args[1])):g(b)&&(void 0===b["*"]&&(b["*"]=[]),t=r.args[1]&&"*"===r.args[1]?b["*"]:b,t.push(r.args[0])));return this}}function e(a,d){var b=y[d];return function(d,c){var r=new q(this,d,a,this[d],this[d],arguments),r=new k(a,
d,r,arguments),t;if(!0!==m(r))if(n(b)){if(t=b[r.key])for(var e=0,l=t.length;e<l;e++)if(t[e].toString()===r.args[1].toString()){t.splice(e,1);break}}else if(g(b))for(void 0===b["*"]&&(b["*"]=[]),t=r.args[1]&&"*"===r.args[1]?b["*"]:b,e=0,l=t.length;e<l;e++)if(t[e].toString()===r.args[0].toString()){t.splice(e,1);break}return this}}function n(a){return"object"===typeof a&&!!a&&a.constructor.toString()===Object.toString()}function g(a){return"object"===typeof a&&!!a&&a.constructor.toString()===Array.toString()}
function u(a,d,b){return{get:function(){return a[d]},set:function(b){a[d]=b},enumerable:b.enumerable,configurable:b.configurable}}function c(a,d,b){return{value:a,writable:!!d,enumerable:!1,configurable:!!b}}function w(a,d){var b=a,f=a,c=function(a,d){f=b;b=a;d.listener="__kbupdatelisteners";d.type="update";x(d)};return{get:function(){return b},set:function(a,e){var g=new q(this,d,"set",a,b,arguments,"__kblisteners");e?c(a,g):!0!==x(g)&&(c(a,g),this.callSubscribers(d,b,f))},configurable:!0,enumerable:!0}}
var y=[],h={},z={splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],add:[],postadd:[],set:[],postset:[],remove:[],postremove:[],subscribe:[],unsubscribe:[],addDataListener:[],removeDataListener:[],addDataUpdateListener:[],removeDataUpdateListener:[],addDataCreateListener:[],removeDataCreateListener:[],addDataRemoveListener:[],removeDataRemoveListener:[]},m=function(a){for(var d=
0,b=z[a.type],f=b.length;d!==f&&(b[d](a),!a._stopPropogration);d++);return a._preventDefault},p=function(a,d){if(!d._stopPropogration&&a)for(var b=0,f=a.length;b!==f&&(a[b](d),!d._stopPropogration);b++);},x=function(a){var d=a.local[a.listener];n(d)?(p(d[a.key],a),"__kblisteners"===a.listener?(p(d["*"],a),a.fromListener="__kblisteners",a.listener="__kbparentlisteners",p(a.local[a.listener][a.key],a),p(a.local[a.listener]["*"],a)):"__kbupdatelisteners"===a.listener&&(p(d["*"],a),a.fromListener="__kbupdatelisteners",
a.listener="__kbparentupdatelisteners",p(a.local[a.listener][a.key],a),p(a.local[a.listener]["*"],a))):g(d)&&(p(d,a),p(d["*"],a));return a._preventDefault};Object.defineProperties(y,{__kbname:c(A||"",!0,!0),__kbref:c(v?v.__kbref||v:y,!0,!0),__kbscopeString:c(B||"",!0,!0),__kbImmediateParent:c(v||null,!0,!0),splice:c(function(a,d,b){var f=new q(this,a,"splice",this[a],void 0,arguments,"__kbdatadeletelisteners"),c=new k("splice",a,f,arguments);if(!0!==m(c)){var r=[],e=g(c.args[2]),l=void 0!==c.args[2]?
e?c.args[2].length:1:0,h=0;if(0!==d&&void 0!==this[c.key-1+c.args[1]]){for(var n=0,u=c.args[1];n<u;n++)if(h=c.key+n,f.key=h,f.type="remove",f.value=this[h],!0!==x(f)){r.push(this[h-r.length]);for(var p=c.key,v=this.length-1;p<v;p++)this[p]=this[p+1]}else--c.args[1];this.length-=c.args[1]}if(0!==l)for(e||(c.args[2]=[c.args[2]]),n=0,u=l;n<u;n++)if(h=c.key+n,f.key=h,f.type="add",f.listener="__kbdatacreatelisteners",f.value=c.args[2][n],!0!==x(f)){p=this.length;for(v=h;p>v;p--)void 0===this[p]?Object.defineProperty(this,
p,w.call(this,this[p-1],p)):this[p]=this[p-1];this[h]=c.args[2][n]}c.type="postsplice";m(c)}return r}),push:c(function(a){var d=new q(this,this.length,"push",a,void 0,arguments,"__kbdatacreatelisteners"),b=new k("push",this.length,d,arguments);!0!==m(b)&&(d.type="add",d.value=b.args[0],d.key=b.key,!0!==x(d)&&(Object.defineProperty(this,b.key,w.call(this,b.args[0],b.key)),b.type="postpush",m(b)));return this.length}),pop:c(function(){var a=new q(this,this.length-1,"pop",this[this.length-1],void 0,
arguments,"__kbdatadeletelisteners"),d=new k("pop",this.length-1,a,arguments);if(!0!==m(d)){var b=this[this.length-1];a.type="remove";if(!0!==x(a))return--this.length,d.type="postpop",m(d),b}return null}),shift:c(function(){var a=new q(this,0,"shift",this[0],void 0,arguments,"__kbdatadeletelisteners"),d=new k("shift",0,a,arguments);if(!0!==m(d)){var b=this[d.key];a.type="remove";a.key=d.key;if(!0!==x(a)){for(var a=d.key,f=this.length-1;a<f;a++)this[a]=this[a+1];--this.length;d.type="postshift";m(d);
return b}}return null}),unshift:c(function(){var a=new q(this,0,"unshift",this[0],void 0,arguments,"__kbdatacreatelisteners"),d=new k("unshift",0,a,arguments);if(!0!==m(d)){for(var b=Array.prototype.slice.call(d.args),f=0,c=b.length;f<c;f++)a.key=f,a.type="add",a.value=b[f],!0===x(a)&&b.splice(f,1);if(0!==b.length){f=this.length-1+b.length;for(c=b.length;-1!==f;f--)f<c?this[f]=b[f]:void 0!==Object.getOwnPropertyDescriptor(this,f).value?Object.defineProperty(this,f,w.call(this,this[f-b.length],f)):
this[f]=this[f-b.length];d.type="postunshift";m(d)}}return this.length}),fill:c(function(a,d,b){var f=void 0!==d?Math.max(0,d):0,c=new q(this,f,"fill",a,this[f],arguments,"__kbdatalisteners"),f=new k("fill",f,c,arguments);if(!0!==m(f)){for(c=f.key;c<f.args[2];c++)this[c]=f.args[0];f.type="postfill";m(f)}return this}),reverse:c(function(){var a=new q(this,0,"reverse",value,this[_start],arguments,"__kbdatalisteners"),a=new k("reverse",0,a,arguments);if(!0!==m(a)){for(var d=this.slice().reverse(),b=
0,f=this.length;b<f;b++)this[b]=d[b];a.type="postreverse";m(a)}return this}),sort:c(function(){var a=new q(this,0,"sort",value,this[_start],arguments,"__kbdatalisteners"),a=new k("sort",0,a,arguments);if(!0!==m(a)){for(var d=this.slice(),d=d.sort.apply(d,arguments),b=0,f=this.length;b<f;b++)this[b]=d[b];a.type="postsort";m(a)}return this}),add:c(function(a,d){var b=new q(this,a,"add",d,void 0,arguments,"__kbdatacreatelisteners"),f=new k("add",a,b,arguments);void 0===a?this.push(d):!0!==m(f)&&(void 0===
this[f.key]?!0!==x(b)&&(Object.defineProperty(this,f.key,w.call(this,f.args[1],f.key)),f.type="postadd",m(f)):console.error("Your attempting to add the index: ",f.key," that already exists on",this,"try using set or direct set instead"));return this}),prototype:c(function(a,d){void 0===this[a]?Object.defineProperty(this.__proto__,a,c(d,!0,!0)):console.error("Your attempting to add your prototype with the prop: ",a," that already exists");return this}),addPointer:c(function(a,d,b){var f=new q(this,
b||d,"add",a[d],void 0,arguments,"__kbdatacreatelisteners"),c=new k("add",b||d,f,arguments);!0!==m(c)&&!0!==x(f)&&(f=Object.getOwnPropertyDescriptor(a,d),Object.defineProperty(this,c.key,u(a,d,f)),c.type="postadd",m(c));return this}),set:c(function(a,d,b){var f=new q(this,a,"set",d,this[a],arguments,"__kblisteners"),c=new k("set",a,f,arguments);void 0===this[a]?this.add(a,d):!0!==m(c)&&(f.key=c.key,f.value=c.args[1],!0!==x(f)&&(void 0===Object.getOwnPropertyDescriptor(this,c.key).value?Object.getOwnPropertyDescriptor(this,
c.key).set(c.args[1],b):Object.defineProperty(this,c.key,w.call(this,c.args[1],c.key)),c.type="postset",m(c)));return this}),remove:c(function(a,d){var b=new q(this,a,"remove",this[a],this[a],arguments,"__kbdatadeletelisteners"),b=new k("remove",a,b,arguments);if(!0!==m(b)){if(void 0===this[b.key])return console.error("Your attempting to remove the index: ",b.key," that does not exist on ",this),this;this.splice(b.key,b.args[1])}return this}),stringify:c(function(){var a=[];return JSON.stringify(this,
function(d,b){if(g(b)||n(b)){if(-1!==a.indexOf(b))return;a.push(b)}return b})}),callSubscribers:c(function(a,d,b){if(void 0!==h[a])for(var f=0,c=h[a].length;f<c;f++)h[a][f](a,d,b);if(void 0!==h["*"])for(f=0,c=h["*"].length;f<c;f++)h["*"][f](a,d,b);return this}),subscribe:c(function(a,d){var b=new q(this,a,"subscribe",this[a],void 0,arguments),b=new k("subscribe",a,b,arguments);!0!==m(b)&&(void 0===h[b.key]&&(h[b.key]=[]),h[b.key].push(d));return this}),unsubscribe:c(function(a,d){var b=new q(this,
a,"unsubscribe",this[a],void 0,arguments),b=new k("unsubscribe",a,b,arguments);if(!0!==m(b)&&void 0!==h[b.key]){var c=0,e=h[b.key].length;a:for(;c<e;c++)if(h[b.key][c].toString()===d.toString()){h[b.key].splice(c,1);break a}}return this}),__kblisteners:c({}),__kbupdatelisteners:c({}),__kbparentlisteners:c({}),__kbparentupdatelisteners:c({}),__kbdatacreatelisteners:c([]),__kbdatadeletelisteners:c([]),addActionListener:c(function(a,d){-1!==Object.keys(z).indexOf(a)?z[a].push(d):console.error("There is no action listener by the name: ",
a);return this}),removeActionListener:c(function(a,d){if(-1!==Object.keys(z).indexOf(a))for(var b=0,c=z[a],e=c.length;b!==e;b++){if(c[b].toString()===d.toString()){c.splice(b,1);break}}else console.error("There is no action listener by the name: ",a);return this})});Object.defineProperties(y,{addDataListener:c(l("__kblisteners")),removeDataListener:c(e("__kblisteners")),addDataUpdateListener:c(l("__kbupdatelisteners")),removeDataUpdateListener:c(e("__kbupdatelisteners")),addDataCreateListener:c(l("__kbdatacreatelisteners")),
removeDataCreateListener:c(e("__kbdatacreatelisteners")),addDataRemoveListener:c(l("__kbdatadeletelisteners")),removeDataRemoveListener:c(e("__kbdatadeletelisteners"))});return y}}(),E=function(){return function(A,v,B){function q(a,d,b,c,e,r,g){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=a;this.key=d;this.arguments=r;this.type=b;this.listener=g;this.name=a.__kbname;this.root=a.__kbref;this.scope=a.__kbscopeString;this.parent=
a.___kbImmediateParent;this.value=c;this.oldValue=e}function k(a,d,b,c){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.type=a;this.key=d;this.event=b;this.args=c}function l(a,d){var b=y[d];return function(d,c){var e=new q(this,n(b)?d:"",a,n(b)?this[d]:"",n(b)?this[d]:"",arguments),e=new k(a,n(b)?d:"",e,arguments),t;!0!==m(e)&&(n(b)?(void 0===b[e.key]&&(b[e.key]=[]),t=b[e.key],t.push(e.args[1])):g(b)&&(void 0===b["*"]&&(b["*"]=
[]),t=e.args[1]&&"*"===e.args[1]?b["*"]:b,t.push(e.args[0])));return this}}function e(a,d){var b=y[d];return function(d,c){var e=new q(this,d,a,this[d],this[d],arguments),e=new k(a,d,e,arguments),t;if(!0!==m(e))if(n(b)){if(t=b[e.key])for(var l=0,h=t.length;l<h;l++)if(t[l].toString()===e.args[1].toString()){t.splice(l,1);break}}else if(g(b))for(void 0===b["*"]&&(b["*"]=[]),t=e.args[1]&&"*"===e.args[1]?b["*"]:b,l=0,h=t.length;l<h;l++)if(t[l].toString()===e.args[0].toString()){t.splice(l,1);break}return this}}
function n(a){return"object"===typeof a&&!!a&&a.constructor.toString()===Object.toString()}function g(a){return"object"===typeof a&&!!a&&a.constructor.toString()===Array.toString()}function u(a,d,b){return{get:function(){return a[d]},set:function(b){a[d]=b},enumerable:b.enumerable,configurable:b.configurable}}function c(a,d,b){return{value:a,writable:!!d,enumerable:!1,configurable:!!b}}function w(a,d){var b=a,c=a,e=function(a,d){c=b;b=a;d.listener="__kbupdatelisteners";d.type="update";x(d)};return{get:function(){return b},
set:function(a,g){var k=new q(this,d,"set",a,b,arguments,"__kblisteners");g?e(a,k):!0!==x(k)&&(e(a,k),this.callSubscribers(d,b,c))},configurable:!0,enumerable:!0}}var y={},h={},z={add:[],postadd:[],set:[],postset:[],remove:[],postremove:[],subscribe:[],unsubscribe:[],addDataListener:[],removeDataListener:[],addDataUpdateListener:[],removeDataUpdateListener:[],addDataCreateListener:[],removeDataCreateListener:[],addDataRemoveListener:[],removeDataRemoveListener:[]},m=function(a){for(var d=0,b=z[a.type],
c=b.length;d!==c&&(b[d](a),!a._stopPropogration);d++);return a._preventDefault},p=function(a,d){if(!d._stopPropogration&&a)for(var b=0,c=a.length;b!==c&&(a[b](d),!d._stopPropogration);b++);},x=function(a){var d=a.local[a.listener];n(d)?(p(d[a.key],a),"__kblisteners"===a.listener?(p(d["*"],a),a.fromListener="__kblisteners",a.listener="__kbparentlisteners",p(a.local[a.listener][a.key],a),p(a.local[a.listener]["*"],a)):"__kbupdatelisteners"===a.listener&&(p(d["*"],a),a.fromListener="__kbupdatelisteners",
a.listener="__kbparentupdatelisteners",p(a.local[a.listener][a.key],a),p(a.local[a.listener]["*"],a))):g(d)&&(p(d,a),p(d["*"],a));return a._preventDefault};Object.defineProperties(y,{__kbname:c(A||"",!0,!0),__kbref:c(v?v.__kbref||v:y,!0,!0),__kbscopeString:c(B||"",!0,!0),__kbImmediateParent:c(v||null,!0,!0),add:c(function(a,d){var b=new q(this,a,"add",d,void 0,arguments,"__kbdatacreatelisteners"),c=new k("add",a,b,arguments);!0!==m(c)&&(void 0===this[c.key]?!0!==x(b)&&(Object.defineProperty(this,
c.key,w.call(this,c.args[1],c.key)),c.type="postadd",m(c)):console.error("Your attempting to add the property: ",c.key," that already exists on",this,"try using set or direct set instead"));return this}),addPointer:c(function(a,d,b){var c=new q(this,b||d,"add",a[d],void 0,arguments,"__kbdatacreatelisteners"),e=new k("add",b||d,c,arguments);!0!==m(e)&&!0!==x(c)&&(c=Object.getOwnPropertyDescriptor(a,d),Object.defineProperty(this,e.key,u(a,d,c)),e.type="postadd",m(e));return this}),prototype:c(function(a,
d){void 0===this[a]?Object.defineProperty(this.__proto__,a,c(d,!0,!0)):console.error("Your attempting to add the your method with the prop: ",a," that already exists");return this}),set:c(function(a,d,b){var c=new q(this,a,"set",d,this[a],arguments,"__kblisteners"),e=new k("set",a,c,arguments);void 0===this[a]?this.add(e.key,e.args[1]):!0!==m(e)&&(c.key=e.key,c.value=e.args[1],!0!==x(c)&&(void 0===Object.getOwnPropertyDescriptor(this,e.key).value?Object.getOwnPropertyDescriptor(this,e.key).set.call(this,
e.args[1],b):Object.defineProperty(this,e.key,w.call(this,e.args[1],e.key)),e.type="postset",m(e)));return this}),remove:c(function(a){var d=new q(this,a,"remove",this[a],this[a],arguments,"__kbdatadeletelisteners"),b=new k("remove",a,d,arguments);if(!0!==m(b)){if(void 0===this[b.key])return console.error("Your attempting to remove the property: ",b.key," that does not exist on ",this),this;!0!==x(d)&&(Object.defineProperty(this,b.key,{value:null,writable:!0,enumerable:!0,configurable:!0}),b.type=
"postremove",m(b))}return this}),stringify:c(function(){var a=[];return JSON.stringify(this,function(d,b){if(g(b)||n(b)){if(-1!==a.indexOf(b))return;a.push(b)}return b})}),callSubscribers:c(function(a,d,b){if(void 0!==h[a])for(var c=0,e=h[a].length;c<e;c++)h[a][c](a,d,b);if(void 0!==h["*"])for(c=0,e=h["*"].length;c<e;c++)h["*"][c](a,d,b);return this}),subscribe:c(function(a,d){var b=new q(this,a,"subscribe",this[a],void 0,arguments),b=new k("subscribe",a,b,arguments);!0!==m(b)&&(void 0===h[b.key]&&
(h[b.key]=[]),h[b.key].push(d));return this}),unsubscribe:c(function(a,d){var b=new q(this,a,"unsubscribe",this[a],void 0,arguments),b=new k("unsubscribe",a,b,arguments);if(!0!==m(b)&&void 0!==h[b.key]){var c=0,e=h[b.key].length;a:for(;c<e;c++)if(h[b.key][c].toString()===d.toString()){h[b.key].splice(c,1);break a}}return this}),__kblisteners:c({}),__kbupdatelisteners:c({}),__kbparentlisteners:c({}),__kbparentupdatelisteners:c({}),__kbdatacreatelisteners:c([]),__kbdatadeletelisteners:c([]),addActionListener:c(function(a,
d){-1!==Object.keys(z).indexOf(a)?z[a].push(d):console.error("There is no action listener by the name: ",a);return this}),removeActionListener:c(function(a,d){if(-1!==Object.keys(z).indexOf(a))for(var b=0,c=z[a],e=c.length;b!==e;b++){if(c[b].toString()===d.toString()){c.splice(b,1);break}}else console.error("There is no action listener by the name: ",a);return this}),onadd:c(function(){},!0),onremove:c(function(){},!0),onset:c(function(){},!0),onupdate:c(function(){},!0)});Object.defineProperties(y,
{addDataListener:c(l("addDataListener","__kblisteners")),removeDataListener:c(e("removeDataListener","__kblisteners")),addDataUpdateListener:c(l("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:c(e("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:c(l("addDataCreateListener","__kbdatacreatelisteners")),removeDataCreateListener:c(e("removeDataCreateListener","__kbdatacreatelisteners")),addDataRemoveListener:c(l("addDataRemoveListener","__kbdatadeletelisteners")),
removeDataRemoveListener:c(e("removeDataRemoveListener","__kbdatadeletelisteners"))});return y}}(),C=function(A){return function(){function v(){}var B=A("Model"),q={};v.createViewModel=function(k,l,e,n){if(v.isRegistered(k)){var g=A(k),u=q[k];g.__proto__=void 0!==u.prototype?u.prototype:u.__proto__;if(e){var c=0;e=Object.keys(e);for(var w=e.length;c<w;c++)g.isObservable(n,e[c])?g.addPointer(n,e[c]):g.add(e[c],n[e[c]])}if("function"===typeof u)for(u.apply(g,l),c=0,e=Object.keys(g),w=e.length;c<w;c++)g.isObservable(g,
e[c])||g.set(e[c],g[e[c]]);else for(c=0,e=Object.keys(u),w=e.length;c<w;c++)g.isObservable(u,e[c])?(g[e[c]]&&g.remove(e[c]),g.addPointer(u,e[c])):g.set(e[c],u[e[c]]);if(n)for(c=0,e=Object.keys(n),w=e.length;c<w;c++)g.isObservable(n,e[c])?(void 0!==g[e[c]]&&g.remove(e[c]),g.addPointer(n,e[c])):g.set(e[c],n[e[c]]);if(g.sessionStorage){if(l=sessionStorage.getItem(g.id||k))for(l=JSON.parse(l),c=0,e=Object.keys(l),w=e.length;c<w;c++)g.set(e[c],l[e[c]]);else sessionStorage.setItem(g.id||k,g.stringify());
g.addChildDataUpdateListener("*",function(){sessionStorage.setItem(g.id||k,g.stringify())})}if(g.localStorage){if(l=localStorage.getItem(g.id||k))for(l=JSON.parse(l),c=0,e=Object.keys(l),w=e.length;c<w;c++)g.set(e[c],l[e[c]]);else localStorage.setItem(g.id||k,g.stringify());g.addChildDataUpdateListener("*",function(){localStorage.setItem(g.id||k,g.stringify())})}g.store&&B.set(g.id||k,g);return g}console.error("There is no viewmodel by the name %o",k);return null};v.isRegistered=function(k){return void 0!==
q[k]};v.register=function(k,l){q[k]=l;return this};v.model=function(k){return k?B[k]:B};return v}}(function(A,v){return function(B,q){function k(a){return"[object Array]"===Object.prototype.toString.call(a)}function l(a){return"[object Object]"===Object.prototype.toString.call(a)}function e(a,b){return b?a[b]?void 0===Object.getOwnPropertyDescriptor(a,b).value:!1:void 0!==a.__kbname}function n(a){return a.split(".").filter(function(a){return 0!==a.length})}function g(a,b){function c(a){b.splice(0,
1);return 0===b.length?a:a[b[0]]?c(a[b[0]]):a}return(b=n(b))&&1!==b.length?c(a[b[0]]):b&&b.length?a[b[0]]:a}function u(a){var b=a.key.split(".");if(1===b.length&&"*"!==a.key)return!1;"*"!==a.key?(a.preventDefault(),g(a.event.local,b.slice(0,b.length-1).join("."))[a.type](b[b.length-1],a.args[1])):(a.preventDefault(),-1!==a.type.toLowerCase().indexOf("update")?a.event.local.addChildDataUpdateListener("*",a.args[1]):a.event.local.addChildDataListener("*",a.args[1]))}function c(a){var b=a.key.split(".");
if(1===b.length&&"*"!==a.key)return!1;if("*"!==a.key)a.preventDefault(),g(a.event.local,b.slice(0,b.length-1).join("."))[a.type](b[b.length-1],a.args[1]);else for(var b=Object.keys(a.event.local).filter(function(b){return l(a.event.local[b])||k(a.event.local[b])}),c=0,e=b.length;c<e;c++)a.event.local[b[c]].subscribe(a.key,a.args[1])}function w(a){void 0===a.parseData&&a.prototype("parseData",x);void 0===a.isArray&&a.prototype("isArray",k);void 0===a.isObject&&a.prototype("isObject",l);void 0===a.isObservable&&
a.prototype("isObservable",e);void 0===a.updateName&&a.prototype("updateName",z);void 0===a.getScopeByScopeString&&a.prototype("getScopeByScopeString",g);void 0===a.addChildDataListener&&a.prototype("addChildDataListener",y("__kbparentlisteners"));void 0===a.removeChildDataListener&&a.prototype("removeChildDataListener",h("__kbparentlisteners"));void 0===a.addChildDataUpdateListener&&a.prototype("addChildDataUpdateListener",y("__kbparentupdatelisteners"));void 0===a.removeChildDataUpdateListener&&
a.prototype("removeChildDataUpdateListener",h("__kbparentupdatelisteners"));return a.addActionListener("add",m).addActionListener("set",p).addActionListener("subscribe",c).addActionListener("unsubscribe",c).addActionListener("addDataListener",u).addActionListener("addDataUpdateListener",u).addActionListener("addDataCreateListener",u).addActionListener("addDataRemoveListener",u).addActionListener("removeDataListener",u).addActionListener("removeDataUpdateListener",u).addActionListener("removeDataCreateListener",
u).addActionListener("removeDataRemoveListener",u)}function y(a){return function(b,c){function e(b,c,f){var g=Object.keys(b).filter(function(a){return l(b[a])||k(b[a])});void 0===b[a][c]&&(b[a][c]=[]);b[a][c].push(f);for(var h=0,m=g.length;h<m;h++)e(b[g[h]],c,f)}e(this,b,c);return this}}function h(a){return function(b,c){function e(b,c,f){var g=Object.keys(b).filter(function(a){return l(b[a])||k(b[a])}),h=0,m=b[a][c].length;a:for(;h<m;h++)if(b[a][c][h].toString()===f.toString()){b[a][c].splice(h,
1);break a}h=0;for(m=g.length;h<m;h++)e(b[g[h]],c,f)}e(this,b,c);return this}}function z(c){"string"===typeof c&&(a.name=c);return this}function m(a){if((l(a.args[1])||k(a.args[1]))&&!e(a.args[1])){a.preventDefault();var b=a.event.local,c=b.__kbscopeString+(0!==b.__kbscopeString.length?".":"")+a.key,c=(l(a.args[1])?v:A)(b.__kbname,b,c);b.add(a.key,c);w(b[a.key]).parseData(a.args[1])}}function p(a){if((l(a.args[1])||k(a.args[1]))&&!e(a.args[1])){a.preventDefault();var b=a.event.local,c=b.__kbscopeString+
(0!==b.__kbscopeString.length?".":"")+a.key,c=(l(a.args[1])?v:A)(b.__kbname,b,c);b.set(a.key,c);w(b[a.key]).parseData(a.args[1])}}function x(a){for(var b=0,c=Object.keys(a),e=c.length;b<e;b++)this.set(c[b],a[c[b]]);return this}var a={name:B};_data=("string"===typeof q&&"array"===q.toLowercase()?A:v)(a.name,void 0,"").addPointer(a,"name","__kbname");w(_data);return _data}}(D,E));window.define&&window.require?define([],function(){return C}):window.module&&(module.exports=C);return C}();
