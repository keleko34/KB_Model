var KB_Model=function(){var D=function(){return function(A,r,B){function p(a,e,c,w,b,t){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=a;this.key=e;this.arguments=t;this.type=c;this.name=a.__kbname;this.root=a.__kbref;this.scope=a.__kbscopeString;this.parent=a.___kbImmediateParent;this.value=w;this.oldValue=b}function k(a,e,c,w){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=
!0};this.type=a;this.key=e;this.event=c;this.args=w}function h(a,e){var c=x[e];return function(e,b){var t=new p(this,m(c)?e:"",a,m(c)?this[e]:"",m(c)?this[e]:"",arguments),t=new k(a,m(c)?e:"",t,arguments),d;!0!==l(t)&&(m(c)?(void 0===c[t.key]&&(c[t.key]=[]),d=c[t.key],d.push(t.args[1])):f(c)&&(void 0===c["*"]&&(c["*"]=[]),d=t.args[1]&&"*"===t.args[1]?c["*"]:c,d.push(t.args[0])));return this}}function d(a,e){var c=x[e];return function(e,b){var t=new p(this,e,a,this[e],this[e],arguments),t=new k(a,
e,t,arguments),d;if(!0!==l(t))if(m(c)){if(d=c[t.key])for(var z=0,h=d.length;z<h;z++)if(d[z].toString()===t.args[1].toString()){d.splice(z,1);break}}else if(f(c))for(void 0===c["*"]&&(c["*"]=[]),d=t.args[1]&&"*"===t.args[1]?c["*"]:c,z=0,h=d.length;z<h;z++)if(d[z].toString()===t.args[0].toString()){d.splice(z,1);break}return this}}function m(a){return"object"===typeof a&&!!a&&a.constructor.toString()===Object.toString()}function f(a){return"object"===typeof a&&!!a&&a.constructor.toString()===Array.toString()}
function q(a,e,c){return{get:function(){return a[e]},set:function(c){a[e]=c},enumerable:c.enumerable,configurable:c.configurable}}function b(a,e,c){return{value:a,writable:!!e,enumerable:!1,configurable:!!c}}function u(a,e){var c=a,w=a,b=function(a,e){w=c;c=a;e.listener="__kbupdatelisteners";e.type="update";v(e)};return{get:function(){return c},set:function(a,d){var f=new p(this,e,"set",a,c,arguments,"__kblisteners");d?b(a,f):!0!==v(f)&&(b(a,f),this.callSubscribers(e,c,w))},configurable:!0,enumerable:!0}}
var x=[],n={},y={splice:[],postsplice:[],push:[],postpush:[],pop:[],postpop:[],shift:[],postshift:[],unshift:[],postunshift:[],fill:[],postfill:[],reverse:[],postreverse:[],sort:[],postsort:[],add:[],postadd:[],set:[],postset:[],remove:[],postremove:[],addDataListener:[],removeDataListener:[],addDataUpdateListener:[],removeDataUpdateListener:[],addDataCreateListener:[],removeDataCreateListener:[],addDataRemoveListener:[],removeDataRemoveListener:[]},l=function(a){for(var e=0,c=y[a.type],w=c.length;e!==
w&&(c[e](a),!a._stopPropogration);e++);return a._preventDefault},g=function(a,e){if(!e._stopPropogration&&a)for(var c=0,w=a.length;c!==w&&(a[c](e),!e._stopPropogration);c++);},v=function(a){var e=a.local[a.listener];m(e)?(g(e[a.key],a),"__kblisteners"===a.listener?(g(e["*"],a),a.fromListener="__kblisteners",a.listener="__kbparentlisteners",g(a.local[a.listener][a.key],a),g(a.local[a.listener]["*"],a)):"__kbupdatelisteners"===a.listener&&(g(e["*"],a),a.fromListener="__kbupdatelisteners",a.listener=
"__kbparentupdatelisteners",g(a.local[a.listener][a.key],a),g(a.local[a.listener]["*"],a))):f(e)&&(g(e,a),g(e["*"],a));return a._preventDefault};Object.defineProperties(x,{__kbname:b(A||"",!0,!0),__kbref:b(r?r.__kbref||r:x,!0,!0),__kbscopeString:b(B||"",!0,!0),__kbImmediateParent:b(r||null,!0,!0),splice:b(function(a,e,c){var w=new p(this,a,"splice",this[a],void 0,arguments,"__kbdatadeletelisteners"),b=new k("splice",a,w,arguments);if(!0!==l(b)){var d=[],h=f(b.args[2]),z=void 0!==b.args[2]?h?b.args[2].length:
1:0,m=0;if(0!==e&&void 0!==this[b.key-1+b.args[1]]){for(var n=0,q=b.args[1];n<q;n++)if(m=b.key+n,w.key=m,w.type="remove",w.value=this[m],!0!==v(w)){d.push(this[m-d.length]);for(var g=b.key,r=this.length-1;g<r;g++)this[g]=this[g+1]}else--b.args[1];this.length-=b.args[1]}if(0!==z)for(h||(b.args[2]=[b.args[2]]),n=0,q=z;n<q;n++)if(m=b.key+n,w.key=m,w.type="add",w.listener="__kbdatacreatelisteners",w.value=b.args[2][n],!0!==v(w)){g=this.length;for(r=m;g>r;g--)void 0===this[g]?Object.defineProperty(this,
g,u.call(this,this[g-1],g)):this[g]=this[g-1];this[m]=b.args[2][n]}b.type="postsplice";l(b)}return d}),push:b(function(a){var e=new p(this,this.length,"push",a,void 0,arguments,"__kbdatacreatelisteners"),c=new k("push",this.length,e,arguments);!0!==l(c)&&(e.type="add",e.value=c.args[0],e.key=c.key,!0!==v(e)&&(Object.defineProperty(this,c.key,u.call(this,c.args[0],c.key)),c.type="postpush",l(c)));return this.length}),pop:b(function(){var a=new p(this,this.length-1,"pop",this[this.length-1],void 0,
arguments,"__kbdatadeletelisteners"),e=new k("pop",this.length-1,a,arguments);if(!0!==l(e)){var c=this[this.length-1];a.type="remove";if(!0!==v(a))return--this.length,e.type="postpop",l(e),c}return null}),shift:b(function(){var a=new p(this,0,"shift",this[0],void 0,arguments,"__kbdatadeletelisteners"),e=new k("shift",0,a,arguments);if(!0!==l(e)){var c=this[e.key];a.type="remove";a.key=e.key;if(!0!==v(a)){for(var a=e.key,b=this.length-1;a<b;a++)this[a]=this[a+1];--this.length;e.type="postshift";l(e);
return c}}return null}),unshift:b(function(){var a=new p(this,0,"unshift",this[0],void 0,arguments,"__kbdatacreatelisteners"),e=new k("unshift",0,a,arguments);if(!0!==l(e)){for(var c=Array.prototype.slice.call(e.args),b=0,d=c.length;b<d;b++)a.key=b,a.type="add",a.value=c[b],!0===v(a)&&c.splice(b,1);if(0!==c.length){b=this.length-1+c.length;for(d=c.length;-1!==b;b--)b<d?this[b]=c[b]:void 0!==Object.getOwnPropertyDescriptor(this,b).value?Object.defineProperty(this,b,u.call(this,this[b-c.length],b)):
this[b]=this[b-c.length];e.type="postunshift";l(e)}}return this.length}),fill:b(function(a,e,c){var b=void 0!==e?Math.max(0,e):0,d=new p(this,b,"fill",a,this[b],arguments,"__kbdatalisteners"),b=new k("fill",b,d,arguments);if(!0!==l(b)){for(d=b.key;d<b.args[2];d++)this[d]=b.args[0];b.type="postfill";l(b)}return this}),reverse:b(function(){var a=new p(this,0,"reverse",value,this[_start],arguments,"__kbdatalisteners"),a=new k("reverse",0,a,arguments);if(!0!==l(a)){for(var e=this.slice().reverse(),c=
0,b=this.length;c<b;c++)this[c]=e[c];a.type="postreverse";l(a)}return this}),sort:b(function(){var a=new p(this,0,"sort",value,this[_start],arguments,"__kbdatalisteners"),a=new k("sort",0,a,arguments);if(!0!==l(a)){for(var e=this.slice(),e=e.sort.apply(e,arguments),c=0,b=this.length;c<b;c++)this[c]=e[c];a.type="postsort";l(a)}return this}),add:b(function(a,e){var c=new p(this,a,"add",e,void 0,arguments,"__kbdatacreatelisteners"),b=new k("add",a,c,arguments);void 0===a?this.push(e):!0!==l(b)&&(void 0===
this[b.key]?!0!==v(c)&&(Object.defineProperty(this,b.key,u.call(this,b.args[1],b.key)),b.type="postadd",l(b)):console.error("Your attempting to add the index: ",b.key," that already exists on",this,"try using set or direct set instead"));return this}),prototype:b(function(a,e){void 0===this[a]?Object.defineProperty(this.__proto__,a,b(e,!0,!0)):console.error("Your attempting to add your prototype with the prop: ",a," that already exists");return this}),addPointer:b(function(a,e,c){var b=new p(this,
c||e,"add",a[e],void 0,arguments,"__kbdatacreatelisteners"),d=new k("add",c||e,b,arguments);!0!==l(d)&&!0!==v(b)&&(b=Object.getOwnPropertyDescriptor(a,e),Object.defineProperty(this,d.key,q(a,e,b)),d.type="postadd",l(d));return this}),set:b(function(a,e,c){var b=new p(this,a,"set",e,this[a],arguments,"__kblisteners"),d=new k("set",a,b,arguments);void 0===this[a]?this.add(a,e):!0!==l(d)&&(b.key=d.key,b.value=d.args[1],!0!==v(b)&&(void 0===Object.getOwnPropertyDescriptor(this,d.key).value?Object.getOwnPropertyDescriptor(this,
d.key).set(d.args[1],c):Object.defineProperty(this,d.key,u.call(this,d.args[1],d.key)),d.type="postset",l(d)));return this}),remove:b(function(a,e){var c=new p(this,a,"remove",this[a],this[a],arguments,"__kbdatadeletelisteners"),c=new k("remove",a,c,arguments);if(!0!==l(c)){if(void 0===this[c.key])return console.error("Your attempting to remove the index: ",c.key," that does not exist on ",this),this;this.splice(c.key,c.args[1])}return this}),stringify:b(function(){var a=[];return JSON.stringify(this,
function(e,c){if(f(c)||m(c)){if(-1!==a.indexOf(c))return;a.push(c)}return c})}),callSubscribers:b(function(a,e,c){if(void 0!==n[a]){c=0;for(var b=n[a].length;c<b;c++)n[a][c](e)}return this}),subscribe:b(function(a,e){void 0===n[a]&&(n[a]=[]);n[a].push(e);return this}),unsubscribe:b(function(a,e){if(void 0!==n[a]){var c=0,b=n[a].length;a:for(;c<b;c++)if(n[a][c].toString()===e.toString()){n[a].splice(c,1);break a}}return this}),__kblisteners:b({}),__kbupdatelisteners:b({}),__kbparentlisteners:b({}),
__kbparentupdatelisteners:b({}),__kbdatacreatelisteners:b([]),__kbdatadeletelisteners:b([]),addActionListener:b(function(a,b){-1!==Object.keys(y).indexOf(a)?y[a].push(b):console.error("There is no action listener by the name: ",a);return this}),removeActionListener:b(function(a,b){if(-1!==Object.keys(y).indexOf(a))for(var c=0,d=y[a],f=d.length;c!==f;c++){if(d[c].toString()===b.toString()){d.splice(c,1);break}}else console.error("There is no action listener by the name: ",a);return this})});Object.defineProperties(x,
{addDataListener:b(h("__kblisteners")),removeDataListener:b(d("__kblisteners")),addDataUpdateListener:b(h("__kbupdatelisteners")),removeDataUpdateListener:b(d("__kbupdatelisteners")),addDataCreateListener:b(h("__kbdatacreatelisteners")),removeDataCreateListener:b(d("__kbdatacreatelisteners")),addDataRemoveListener:b(h("__kbdatadeletelisteners")),removeDataRemoveListener:b(d("__kbdatadeletelisteners"))});return x}}(),E=function(){return function(A,r,B){function p(a,b,c,d,f,t,k){this.stopPropogation=
function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.local=a;this.key=b;this.arguments=t;this.type=c;this.listener=k;this.name=a.__kbname;this.root=a.__kbref;this.scope=a.__kbscopeString;this.parent=a.___kbImmediateParent;this.value=d;this.oldValue=f}function k(a,b,c,d){this.stopPropogation=function(){this._stopPropogration=!0};this.preventDefault=function(){this._preventDefault=!0};this.type=a;this.key=b;this.event=c;this.args=d}function h(a,b){var c=
x[b];return function(b,e){var d=new p(this,m(c)?b:"",a,m(c)?this[b]:"",m(c)?this[b]:"",arguments),d=new k(a,m(c)?b:"",d,arguments),h;!0!==l(d)&&(m(c)?(void 0===c[d.key]&&(c[d.key]=[]),h=c[d.key],h.push(d.args[1])):f(c)&&(void 0===c["*"]&&(c["*"]=[]),h=d.args[1]&&"*"===d.args[1]?c["*"]:c,h.push(d.args[0])));return this}}function d(a,b){var c=x[b];return function(b,e){var d=new p(this,b,a,this[b],this[b],arguments),d=new k(a,b,d,arguments),h;if(!0!==l(d))if(m(c)){if(h=c[d.key])for(var g=0,n=h.length;g<
n;g++)if(h[g].toString()===d.args[1].toString()){h.splice(g,1);break}}else if(f(c))for(void 0===c["*"]&&(c["*"]=[]),h=d.args[1]&&"*"===d.args[1]?c["*"]:c,g=0,n=h.length;g<n;g++)if(h[g].toString()===d.args[0].toString()){h.splice(g,1);break}return this}}function m(a){return"object"===typeof a&&!!a&&a.constructor.toString()===Object.toString()}function f(a){return"object"===typeof a&&!!a&&a.constructor.toString()===Array.toString()}function q(a,b,c){return{get:function(){return a[b]},set:function(c){a[b]=
c},enumerable:c.enumerable,configurable:c.configurable}}function b(a,b,c){return{value:a,writable:!!b,enumerable:!1,configurable:!!c}}function u(a,b){var c=a,d=a,f=function(a,b){d=c;c=a;b.listener="__kbupdatelisteners";b.type="update";v(b)};return{get:function(){return c},set:function(a,h){var k=new p(this,b,"set",a,c,arguments,"__kblisteners");h?f(a,k):!0!==v(k)&&(f(a,k),this.callSubscribers(b,c,d))},configurable:!0,enumerable:!0}}var x={},n={},y={add:[],postadd:[],set:[],postset:[],remove:[],postremove:[],
addDataListener:[],removeDataListener:[],addDataUpdateListener:[],removeDataUpdateListener:[],addDataCreateListener:[],removeDataCreateListener:[],addDataRemoveListener:[],removeDataRemoveListener:[]},l=function(a){for(var b=0,c=y[a.type],d=c.length;b!==d&&(c[b](a),!a._stopPropogration);b++);return a._preventDefault},g=function(a,b){if(!b._stopPropogration&&a)for(var c=0,d=a.length;c!==d&&(a[c](b),!b._stopPropogration);c++);},v=function(a){var b=a.local[a.listener];m(b)?(g(b[a.key],a),"__kblisteners"===
a.listener?(g(b["*"],a),a.fromListener="__kblisteners",a.listener="__kbparentlisteners",g(a.local[a.listener][a.key],a),g(a.local[a.listener]["*"],a)):"__kbupdatelisteners"===a.listener&&(g(b["*"],a),a.fromListener="__kbupdatelisteners",a.listener="__kbparentupdatelisteners",g(a.local[a.listener][a.key],a),g(a.local[a.listener]["*"],a))):f(b)&&(g(b,a),g(b["*"],a));return a._preventDefault};Object.defineProperties(x,{__kbname:b(A||"",!0,!0),__kbref:b(r?r.__kbref||r:x,!0,!0),__kbscopeString:b(B||"",
!0,!0),__kbImmediateParent:b(r||null,!0,!0),add:b(function(a,b){var c=new p(this,a,"add",b,void 0,arguments,"__kbdatacreatelisteners"),d=new k("add",a,c,arguments);!0!==l(d)&&(void 0===this[d.key]?!0!==v(c)&&(Object.defineProperty(this,d.key,u.call(this,d.args[1],d.key)),d.type="postadd",l(d)):console.error("Your attempting to add the property: ",d.key," that already exists on",this,"try using set or direct set instead"));return this}),addPointer:b(function(a,b,c){var d=new p(this,c||b,"add",a[b],
void 0,arguments,"__kbdatacreatelisteners"),f=new k("add",c||b,d,arguments);!0!==l(f)&&!0!==v(d)&&(d=Object.getOwnPropertyDescriptor(a,b),Object.defineProperty(this,f.key,q(a,b,d)),f.type="postadd",l(f));return this}),prototype:b(function(a,e){void 0===this[a]?Object.defineProperty(this.__proto__,a,b(e,!0,!0)):console.error("Your attempting to add the your method with the prop: ",a," that already exists");return this}),set:b(function(a,b,c){var d=new p(this,a,"set",b,this[a],arguments,"__kblisteners"),
f=new k("set",a,d,arguments);void 0===this[a]?this.add(f.key,f.args[1]):!0!==l(f)&&(d.key=f.key,d.value=f.args[1],!0!==v(d)&&(void 0===Object.getOwnPropertyDescriptor(this,f.key).value?Object.getOwnPropertyDescriptor(this,f.key).set.call(this,f.args[1],c):Object.defineProperty(this,f.key,u.call(this,f.args[1],f.key)),f.type="postset",l(f)));return this}),remove:b(function(a){var b=new p(this,a,"remove",this[a],this[a],arguments,"__kbdatadeletelisteners"),c=new k("remove",a,b,arguments);if(!0!==l(c)){if(void 0===
this[c.key])return console.error("Your attempting to remove the property: ",c.key," that does not exist on ",this),this;!0!==v(b)&&(Object.defineProperty(this,c.key,{value:null,writable:!0,enumerable:!0,configurable:!0}),c.type="postremove",l(c))}return this}),stringify:b(function(){var a=[];return JSON.stringify(this,function(b,c){if(f(c)||m(c)){if(-1!==a.indexOf(c))return;a.push(c)}return c})}),callSubscribers:b(function(a,b,c){if(void 0!==n[a]){c=0;for(var d=n[a].length;c<d;c++)n[a][c](b)}return this}),
subscribe:b(function(a,b){void 0===n[a]&&(n[a]=[]);n[a].push(b);return this}),unsubscribe:b(function(a,b){if(void 0!==n[a]){var c=0,d=n[a].length;a:for(;c<d;c++)if(n[a][c].toString()===b.toString()){n[a].splice(c,1);break a}}return this}),__kblisteners:b({}),__kbupdatelisteners:b({}),__kbparentlisteners:b({}),__kbparentupdatelisteners:b({}),__kbdatacreatelisteners:b([]),__kbdatadeletelisteners:b([]),addActionListener:b(function(a,b){-1!==Object.keys(y).indexOf(a)?y[a].push(b):console.error("There is no action listener by the name: ",
a);return this}),removeActionListener:b(function(a,b){if(-1!==Object.keys(y).indexOf(a))for(var c=0,d=y[a],f=d.length;c!==f;c++){if(d[c].toString()===b.toString()){d.splice(c,1);break}}else console.error("There is no action listener by the name: ",a);return this}),onadd:b(function(){},!0),onremove:b(function(){},!0),onset:b(function(){},!0),onupdate:b(function(){},!0)});Object.defineProperties(x,{addDataListener:b(h("addDataListener","__kblisteners")),removeDataListener:b(d("removeDataListener","__kblisteners")),
addDataUpdateListener:b(h("addDataUpdateListener","__kbupdatelisteners")),removeDataUpdateListener:b(d("removeDataUpdateListener","__kbupdatelisteners")),addDataCreateListener:b(h("addDataCreateListener","__kbdatacreatelisteners")),removeDataCreateListener:b(d("removeDataCreateListener","__kbdatacreatelisteners")),addDataRemoveListener:b(h("addDataRemoveListener","__kbdatadeletelisteners")),removeDataRemoveListener:b(d("removeDataRemoveListener","__kbdatadeletelisteners"))});return x}}(),C=function(A){return function(){function r(){}
var B=A("Model"),p={};r.createViewModel=function(k,h,d,m){if(r.isRegistered(k)){var f=A(k),q=p[k];f.__proto__=void 0!==q.prototype?q.prototype:q.__proto__;if(d){var b=0;d=Object.keys(d);for(var u=d.length;b<u;b++)f.isObservable(m,d[b])?f.addPointer(m,d[b]):f.add(d[b],m[d[b]])}if("function"===typeof q)for(q.apply(f,h),b=0,d=Object.keys(f),u=d.length;b<u;b++)f.isObservable(f,d[b])||f.set(d[b],f[d[b]]);else for(b=0,d=Object.keys(q),u=d.length;b<u;b++)f.isObservable(q,d[b])?(f[d[b]]&&f.remove(d[b]),f.addPointer(q,
d[b])):f.set(d[b],q[d[b]]);if(m)for(b=0,d=Object.keys(m),u=d.length;b<u;b++)f.isObservable(m,d[b])?(void 0!==f[d[b]]&&f.remove(d[b]),f.addPointer(m,d[b])):f.set(d[b],m[d[b]]);if(f.sessionStorage){if(h=sessionStorage.getItem(f.id||k))for(h=JSON.parse(h),b=0,d=Object.keys(h),u=d.length;b<u;b++)f.set(d[b],h[d[b]]);else sessionStorage.setItem(f.id||k,f.stringify());f.addChildDataUpdateListener("*",function(){sessionStorage.setItem(f.id||k,f.stringify())})}if(f.localStorage){if(h=localStorage.getItem(f.id||
k))for(h=JSON.parse(h),b=0,d=Object.keys(h),u=d.length;b<u;b++)f.set(d[b],h[d[b]]);else localStorage.setItem(f.id||k,f.stringify());f.addChildDataUpdateListener("*",function(){localStorage.setItem(f.id||k,f.stringify())})}f.store&&B.set(f.id||k,f);return f}console.error("There is no viewmodel by the name %o",k);return null};r.isRegistered=function(k){return void 0!==p[k]};r.register=function(k,h){p[k]=h;return this};r.model=function(k){return k?B[k]:B};return r}}(function(A,r){return function(B,p){function k(a){return"[object Array]"===
Object.prototype.toString.call(a)}function h(a){return"[object Object]"===Object.prototype.toString.call(a)}function d(a,b){return b?void 0===Object.getOwnPropertyDescriptor(a,b).value:void 0!==a.__kbname}function m(a){return a.split(".").filter(function(a){return 0!==a.length})}function f(a,b){function c(a){b.splice(0,1);return 0===b.length?a:c(a[b[0]])}return(b=m(b))&&1!==b.length?c(a[b[0]]):b&&b.length?a[b[0]]:a}function q(a){if(1===a.key.split(".").length&&"*"!==a.key)return a.preventDefault(),
!1;if("*"!==a.key)f(a.event.local,a.key)[a.type](a.key,a.args[1]);else a.event.listener.indexOf("update")?a.event.local.addChildDataUpdateListener("*",a.args[1]):a.event.local.addChildDataListener("*",a.args[1])}function b(a){void 0===a.parseData&&a.prototype("parseData",g);void 0===a.isArray&&a.prototype("isArray",k);void 0===a.isObject&&a.prototype("isObject",h);void 0===a.isObservable&&a.prototype("isObservable",d);void 0===a.updateName&&a.prototype("updateName",n);void 0===a.getScopeByScopeString&&
a.prototype("getScopeByScopeString",f);void 0===a.addChildDataListener&&a.prototype("addChildDataListener",u("__kbparentlisteners"));void 0===a.removeChildDataListener&&a.prototype("removeChildDataListener",x("__kbparentlisteners"));void 0===a.addChildDataUpdateListener&&a.prototype("addChildDataUpdateListener",u("__kbparentupdatelisteners"));void 0===a.removeChildDataUpdateListener&&a.prototype("removeChildDataUpdateListener",x("__kbparentupdatelisteners"));return a.addActionListener("add",y).addActionListener("set",
l).addActionListener("addDataListener",q).addActionListener("addDataUpdateListener",q).addActionListener("addDataCreateListener",q).addActionListener("addDataRemoveListener",q).addActionListener("removeDataListener",q).addActionListener("removeDataUpdateListener",q).addActionListener("removeDataCreateListener",q).addActionListener("removeDataRemoveListener",q)}function u(a){return function(b,c){function d(b,c,e){var f=Object.keys(b).filter(function(a){return h(b[a])||k(b[a])});void 0===b[a][c]&&(b[a][c]=
[]);b[a][c].push(e);for(var g=0;g<f;g++)d(f[g],c,e)}d(this,b,c);return this}}function x(a){return function(b,c){function d(b,c,e){var f=Object.keys(b).filter(function(a){return h(b[a])||k(b[a])}),g=0,l=b[a][c].length;a:for(;g<l;g++)if(b[a][c][g].toString()===e.toString()){b[a][c].splice(g,1);break a}for(g=0;g<f;g++)d(f[g],c,e)}d(this,b,c);return this}}function n(a){"string"===typeof a&&(v.name=a);return this}function y(a){if((h(a.args[1])||k(a.args[1]))&&!d(a.args[1])){a.preventDefault();var e=a.event.local,
c=e.__kbscopeString+(0!==e.__kbscopeString.length?".":"")+a.key,c=(h(a.args[1])?r:A)(e.__kbname,e,c);e.add(a.key,c);b(e[a.key]).parseData(a.args[1])}}function l(a){if((h(a.args[1])||k(a.args[1]))&&!d(a.args[1])){a.preventDefault();var e=a.event.local,c=e.__kbscopeString+(0!==e.__kbscopeString.length?".":"")+a.key,c=(h(a.args[1])?r:A)(e.__kbname,e,c);e.set(a.key,c);b(e[a.key]).parseData(a.args[1])}}function g(a){for(var b=0,c=Object.keys(a),d=c.length;b<d;b++)this.set(c[b],a[c[b]]);return this}var v=
{name:B};_data=("string"===typeof p&&"array"===p.toLowercase()?A:r)(v.name,void 0,"").addPointer(v,"name","__kbname");b(_data);return _data}}(D,E));window.define&&window.require?define([],function(){return C}):window.module&&(module.exports=C);return C}();
